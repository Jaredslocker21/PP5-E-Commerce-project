{% extends "base.html" %}
{% load static %}



{% block content %}
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <!-- Wrapper for slides -->
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="{{ offers.slider_img1.url }}" data-color="lightblue" alt="First Image">
      <div class="carousel-caption d-md-block">
        <h1 class="display-4 logo-font text-color-caption">
          <!-- Add in backend admin :-) -->
          {{ offers.caption1 }}
        </h1>
        <div>
          <a href="{% url 'products' %}" class="shop-now-button btn btn-lg rounded-0 text-uppercase">
            Products
          </a>
        </div>
      </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="{{ offers.slider_img2.url }}" data-color="firebrick" alt="Second Image">
      <div class="carousel-caption d-md-block">
        <h1 class="display-4 logo-font text-color-caption">
          <!-- Add in backend admin :-) -->
          {{ offers.caption2 }}
        </h1>
        <div>
          <a href="{% url 'products' %}?category=deals"
            class="shop-now-button btn btn-lg rounded-0 text-uppercase">Deals</a>
        </div>
      </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="{{ offers.slider_img3.url }}" data-color="violet" alt="Third Image">
      <div class="carousel-caption d-md-block">
        <h1 class="display-4 logo-font text-color-caption">
          <!-- Add in backend admin :-) -->
          {{ offers.caption3 }}
        </h1>
        <div>
          <a href="{% url 'products' %}?category=clearence"
            class="shop-now-button btn btn-lg rounded-0 text-uppercase">Clearance's</a>
        </div>
      </div>
    </div>
  </div>
  <!-- Controls -->
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon text-color" aria-hidden="true"></span>
    <span class="sr-only"> Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon text-color" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
{% include 'includes/footer.html' %}
{% endblock %}

{% block postloadjs %}
<script>
  var $item = $('.carousel-item');
  $item.eq(0).addClass('active');
  $item.height('80vh');
  $item.addClass('full-screen');

  $('.carousel img').each(function () {
    var $src = $(this).attr('src');
    var $color = $(this).attr('data-color');
    $(this).parent().css({
      'background-image': 'url(' + $src + ')',
      'background-color': $color
    });
    $(this).remove();
  });

  $(window).on('resize', function () {
    $item.height('80vh');
  });

  $('.carousel').carousel({
    interval: 15000,
    pause: "hover"
  });
</script>
{% endblock %}